import{d as E,u as S,a as k,b as C,r as m,c as I,e as r,o as B,f as F,g as e,w as a,h as _,i as $,l as H,j as P,E as f,p as R,k as T,m as g,_ as j}from"./index-9436cd64.js";import{g as q}from"./time-d55be3e8.js";const w=n=>(R("data-v-e34b598d"),n=n(),T(),n),L={class:"login_container"},z=w(()=>g("h1",null,"Hello",-1)),A=w(()=>g("h2",null,"欢迎来到硅谷甄选",-1)),D=E({__name:"index",setup(n){let v=S(),h=k(),x=C(),c=m(),d=m(!1);const l=I({username:"admin",password:"atguigu123"}),y=async()=>{try{await c.value.validate()}catch{return!1}d.value=!0;try{await v.userLogin(l);let t=x.query.redirect;h.push({path:t||"/"}),f({type:"success",title:`Hi, ${q()}!`,message:"欢迎回来～"}),d.value=!1}catch(t){d.value=!1,f({type:"error",message:t.message})}},V={username:[{validator:(t,o,s)=>{o.length>=5?s():s(new Error("用户名长度至少五位"))},trigger:"change"}],password:[{validator:(t,o,s)=>{o.length>=6?s():s(new Error("密码長度至少六位"))},trigger:"change"}]};return(t,o)=>{const s=r("el-col"),p=r("el-input"),i=r("el-form-item"),U=r("el-button"),N=r("el-form"),b=r("el-row");return B(),F("div",L,[e(b,null,{default:a(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:a(()=>[e(N,{class:"login_form",model:l,rules:V,ref_key:"loginForms",ref:c},{default:a(()=>[z,A,e(i,{prop:"username"},{default:a(()=>[e(p,{"prefix-icon":_($),modelValue:l.username,"onUpdate:modelValue":o[0]||(o[0]=u=>l.username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),e(i,{prop:"password"},{default:a(()=>[e(p,{type:"password","prefix-icon":_(H),"show-password":"",modelValue:l.password,"onUpdate:modelValue":o[1]||(o[1]=u=>l.password=u)},null,8,["prefix-icon","modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(U,{loading:_(d),class:"login_btn",type:"primary",onClick:y},{default:a(()=>[P(" 登陆 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=j(D,[["__scopeId","data-v-e34b598d"]]);export{O as default};
